{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\\\uCF54\\uB4DC\\uC787\\\\\\uC2A4\\uD504\\uB9B0\\uD2B8 \\uBBF8\\uC158\\\\8-sprint-mission\\\\src\\\\pages\\\\MarketPage\\\\components\\\\BestItemsSection.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport ItemCard from \"./ItemCard\";\nimport { getProducts } from \"../../../api/itemApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getPageSize = () => {\n  const width = window.innerWidth;\n  if (width < 768) {\n    // Mobile viewport\n    return 1;\n  } else if (width < 1280) {\n    // Tablet viewport\n    return 2;\n  } else {\n    // Desktop viewport\n    return 4;\n  }\n};\nfunction BestItemsSection() {\n  _s();\n  const [itemList, setItemList] = useState([]);\n  const [pageSize, setPageSize] = useState(getPageSize());\n  const fetchSortedData = async ({\n    orderBy,\n    pageSize\n  }) => {\n    const products = await getProducts({\n      orderBy,\n      pageSize\n    });\n    setItemList(products.list);\n  };\n  useEffect(() => {\n    const handleResize = () => {\n      setPageSize(getPageSize());\n    };\n\n    // 화면 크기 변경할 때마다 pageSize를 다시 계산해 넣음\n    window.addEventListener(\"resize\", handleResize);\n    fetchSortedData({\n      orderBy: \"favorite\",\n      pageSize\n    });\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [pageSize]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bestItemsContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"sectionTitle\",\n      children: \"\\uBCA0\\uC2A4\\uD2B8 \\uC0C1\\uD488\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bestItemsCardSection\",\n      children: itemList === null || itemList === void 0 ? void 0 : itemList.map(item => /*#__PURE__*/_jsxDEV(ItemCard, {\n        item: item\n      }, `best-item-${item.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(BestItemsSection, \"+mFIDA3egOFb5MePKII1FbSilxs=\");\n_c = BestItemsSection;\nexport default BestItemsSection;\nvar _c;\n$RefreshReg$(_c, \"BestItemsSection\");","map":{"version":3,"names":["React","useEffect","useState","ItemCard","getProducts","jsxDEV","_jsxDEV","getPageSize","width","window","innerWidth","BestItemsSection","_s","itemList","setItemList","pageSize","setPageSize","fetchSortedData","orderBy","products","list","handleResize","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","id","_c","$RefreshReg$"],"sources":["C:/Users/user/OneDrive/바탕 화면/코드잇/스프린트 미션/8-sprint-mission/src/pages/MarketPage/components/BestItemsSection.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ItemCard from \"./ItemCard\";\nimport { getProducts } from \"../../../api/itemApi\";\n\nconst getPageSize = () => {\n  const width = window.innerWidth;\n  if (width < 768) {\n    // Mobile viewport\n    return 1;\n  } else if (width < 1280) {\n    // Tablet viewport\n    return 2;\n  } else {\n    // Desktop viewport\n    return 4;\n  }\n};\n\nfunction BestItemsSection() {\n  const [itemList, setItemList] = useState([]);\n  const [pageSize, setPageSize] = useState(getPageSize());\n\n  const fetchSortedData = async ({ orderBy, pageSize }) => {\n    const products = await getProducts({ orderBy, pageSize });\n    setItemList(products.list);\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setPageSize(getPageSize());\n    };\n\n    // 화면 크기 변경할 때마다 pageSize를 다시 계산해 넣음\n    window.addEventListener(\"resize\", handleResize);\n    fetchSortedData({ orderBy: \"favorite\", pageSize });\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [pageSize]);\n\n  return (\n    <div className=\"bestItemsContainer\">\n      <h1 className=\"sectionTitle\">베스트 상품</h1>\n\n      <div className=\"bestItemsCardSection\">\n        {itemList?.map((item) => (\n          <ItemCard item={item} key={`best-item-${item.id}`} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default BestItemsSection;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,WAAW,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,MAAMC,KAAK,GAAGC,MAAM,CAACC,UAAU;EAC/B,IAAIF,KAAK,GAAG,GAAG,EAAE;IACf;IACA,OAAO,CAAC;EACV,CAAC,MAAM,IAAIA,KAAK,GAAG,IAAI,EAAE;IACvB;IACA,OAAO,CAAC;EACV,CAAC,MAAM;IACL;IACA,OAAO,CAAC;EACV;AACF,CAAC;AAED,SAASG,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAACK,WAAW,CAAC,CAAC,CAAC;EAEvD,MAAMU,eAAe,GAAG,MAAAA,CAAO;IAAEC,OAAO;IAAEH;EAAS,CAAC,KAAK;IACvD,MAAMI,QAAQ,GAAG,MAAMf,WAAW,CAAC;MAAEc,OAAO;MAAEH;IAAS,CAAC,CAAC;IACzDD,WAAW,CAACK,QAAQ,CAACC,IAAI,CAAC;EAC5B,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,MAAMoB,YAAY,GAAGA,CAAA,KAAM;MACzBL,WAAW,CAACT,WAAW,CAAC,CAAC,CAAC;IAC5B,CAAC;;IAED;IACAE,MAAM,CAACa,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/CJ,eAAe,CAAC;MAAEC,OAAO,EAAE,UAAU;MAAEH;IAAS,CAAC,CAAC;;IAElD;IACA,OAAO,MAAM;MACXN,MAAM,CAACc,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;IACpD,CAAC;EACH,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,oBACET,OAAA;IAAKkB,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCnB,OAAA;MAAIkB,SAAS,EAAC,cAAc;MAAAC,QAAA,EAAC;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAExCvB,OAAA;MAAKkB,SAAS,EAAC,sBAAsB;MAAAC,QAAA,EAClCZ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEiB,GAAG,CAAEC,IAAI,iBAClBzB,OAAA,CAACH,QAAQ;QAAC4B,IAAI,EAAEA;MAAK,GAAM,aAAaA,IAAI,CAACC,EAAE,EAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACrD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjB,EAAA,CAnCQD,gBAAgB;AAAAsB,EAAA,GAAhBtB,gBAAgB;AAqCzB,eAAeA,gBAAgB;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}